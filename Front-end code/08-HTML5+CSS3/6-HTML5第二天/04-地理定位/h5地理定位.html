<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>h5地理定位</title>
</head>
<body>
    <script>
        // navigator.getCurrentPosition(successCallback, errorCallback, options) 获取当前地理信息
        // navigator.watchPosition(successCallback, errorCallback, options) 重复获取当前地理信息
        // 1、当成功获取地理信息后，会调用succssCallback，并返回一个包含位置信息的对象position。Coords(坐标)
        // position.coords.latitude纬度
        // position.coords.longitude经度
        // 2、当获取地理信息失败后，会调用errorCallback，并返回错误信息error
        // 3、可选参数 options 对象可以调整位置信息数据收集方式

        // 兼容处理
        if (navigator.geolocation){
            //       如果支持，获取用户地理信息
//            successCallback 当获取用户位置成功的回调函数
//            errorCallback 当获取用户位置失败的回调函数
            navigator.geolocation.getCurrentPosition(successCallback,errorCallback);
        }else{
            alert('你当前使用的浏览器不支持地理定位！')
        }

        function successCallback(position) {
            // 获取用户当前的经纬度
            // coords 坐标
            // latitude 纬度
            // longitude 经度

            var wd = position.coords.latitude;
            var jd = position.coords.longitude;
            console.log("获取用户位置成功。");
            console.log('纬度:'+wd+' '+'经度:'+jd);//纬度:34.380728809369586 经度:108.9812792788979
        }

        function errorCallback(error) {
            console.log(error);
            console.log('获取用户位置失败。');
        }

    </script>
</body>
</html>